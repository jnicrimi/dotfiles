# ブランチ作成

## 概要

以下の指示に従って、対話的にGitブランチを作成してください。

## 実行手順

### 1. 変更内容の分析

- `git diff --staged` でステージされた変更を確認してください
- `git diff` でステージされていない変更も確認してください
- 変更がない場合は、会話履歴から作業内容を推測してください
- 推測の場合は「※ 会話履歴から推測」と明記してください

### 2. ブランチ名候補の提示

変更内容に応じて適切な数のブランチ名候補を提示してください（候補は詳細度や表現を変えて差別化）：

```text
分析結果：

[ステージされた変更、未ステージの変更、または会話履歴からの推測内容]

おすすめのブランチ名：

1. prefix/branch-name-here
   理由: [選定理由]

2. prefix/another-branch
   理由: [選定理由]

... (必要に応じて追加)

n. prefix/nth-option
   理由: [選定理由]

選択してください:
```

※ 番号が若いほど推奨度が高くなっています
※ 変更内容の複雑さに応じて、2〜6個程度の候補を提示することを推奨

#### 例

**新機能の場合:**

```text
1. feature/user-authentication
   理由: 新機能の目的が明確で簡潔

2. feature/add-login-system
   理由: 実装内容をより具体的に表現
```

**バグ修正の場合:**

```text
1. fix/login-error-handling
   理由: 修正対象の問題を明確に示している

2. fix/auth-validation-bug
   理由: より技術的な詳細を表現
```

**リファクタリングの場合:**

```text
1. refactor/auth-module
   理由: 対象モジュールが明確で簡潔

2. refactor/consolidate-auth-logic
   理由: リファクタリングの具体的な目的を明示
```

**ドキュメントの場合:**

```text
1. docs/update-readme
   理由: 更新対象が明確で簡潔

2. docs/add-api-documentation
   理由: 追加内容を具体的に表現

3. docs/improve-setup-guide
   理由: 改善の目的を明示
```

**雑務・メンテナンスの場合:**

```text
1. chore/update-dependencies
   理由: メンテナンス内容を簡潔に表現

2. chore/upgrade-nodejs-version
   理由: 具体的な作業内容を明示
```

※ 各例では変更内容の複雑さに応じて、2〜6個程度の候補を提示しています

### 3. ブランチの作成

- ユーザーが番号を選択したら、そのブランチを作成して切り替えてください
- 候補にない番号が入力された場合は「無効な番号です。もう一度番号を入力してください」と再入力を促してください
- ブランチ名の妥当性を `git check-ref-format` で検証してください
- 選択されたブランチ名が既に存在する場合は「ブランチ '[ブランチ名]' は既に存在します。別の番号を選択してください」と再入力を促してください

## ブランチ名規則

### 使用可能なprefix

- feature: 新機能
- fix: バグ修正
- refactor: リファクタリング
- docs: ドキュメント
- chore: 雑務・メンテナンス

### 命名規則

- ブランチ名は必ず `prefix/descriptive-branch-name` の形式
- 単語はハイフン区切り
- 小文字のみ使用
